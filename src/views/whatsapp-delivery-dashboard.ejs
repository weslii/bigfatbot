<%- include('layout', { title: 'WhatsApp Delivery Bot Dashboard' }) %>

<div class="container py-5" style="min-height: 90vh;">
  <div class="d-flex justify-content-end mb-3">
    <button id="themeToggle" class="theme-toggle" title="Toggle theme">
      <i id="themeIcon" class="bi bi-moon"></i>
    </button>
  </div>
  <div class="text-center mb-5 fade-in" style="animation-delay:0.1s;">
    <span class="badge bg-success mb-3" style="font-size: 1rem;">Streamline Your Deliveries</span>
    <h1 class="fw-bold" style="color: var(--secondary); font-size: 2.8rem;">WhatsApp Delivery Bot</h1>
    <p class="lead text-muted" style="max-width: 600px; margin: 0 auto;">Streamline your delivery business with our intelligent WhatsApp bot. Manage orders, track deliveries, and keep your customers informed with automated updates.</p>
    <div class="d-flex justify-content-center gap-3 mt-4 flex-wrap">
      <a href="/register" class="btn btn-gradient btn-lg mb-2">Start Your Free Trial</a>
      <a href="/login" class="btn btn-outline-light btn-lg mb-2" style="border-color: var(--secondary); color: var(--secondary);">User Login</a>
      <a href="/admin/login" class="btn btn-outline-light btn-lg mb-2" style="border-color: var(--primary); color: var(--primary);">Admin Login</a>
    </div>
  </div>

  <div class="row justify-content-center mb-5 fade-in" style="animation-delay:0.2s;">
    <div class="col-md-4 mb-3">
      <div class="glass-card h-100 text-center p-4">
        <div class="mb-3">
          <i class="bi bi-briefcase-fill" style="font-size: 2.5rem; color: var(--primary);"></i>
        </div>
        <h4 class="fw-bold">New Business?</h4>
        <p class="text-muted">Register your business and start managing deliveries easily with our powerful automation tools.</p>
        <ul class="list-unstyled text-start mx-auto" style="max-width: 250px;">
          <li>Seamless WhatsApp integration</li>
          <li>Real-time order tracking</li>
          <li>Automatic customer notifications</li>
        </ul>
        <a href="/register" class="btn btn-success mt-3">Register Your Business</a>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="glass-card h-100 text-center p-4">
        <div class="mb-3">
          <i class="bi bi-person-check-fill" style="font-size: 2.5rem; color: var(--secondary);"></i>
        </div>
        <h4 class="fw-bold">Returning Customer?</h4>
        <p class="text-muted">Access your business dashboard to manage orders, track deliveries, and monitor your performance.</p>
        <ul class="list-unstyled text-start mx-auto" style="max-width: 250px;">
          <li>Multi-business management</li>
          <li>Advanced analytics</li>
          <li>24/7 customer support</li>
        </ul>
        <a href="/dashboard" class="btn btn-primary mt-3">Go to Dashboard</a>
      </div>
    </div>
  </div>

  <div class="text-center mb-4 fade-in" style="animation-delay:0.3s;">
    <span class="badge bg-secondary mb-2">Everything You Need</span>
    <h2 class="fw-bold mb-4">Powerful features designed to streamline your delivery operations and enhance customer experience.</h2>
  </div>
  <div class="row justify-content-center fade-in" style="animation-delay:0.4s;">
    <div class="col-md-3 mb-3">
      <div class="glass-card h-100 text-center p-4">
        <div class="mb-3">
          <i class="bi bi-list-check" style="font-size: 2rem; color: var(--primary);"></i>
        </div>
        <h5 class="fw-bold">Order Management</h5>
        <p class="text-muted">Track and manage all your delivery orders with automated workflows.</p>
        <a href="/orders" class="btn btn-outline-primary btn-sm mt-2">View Orders</a>
      </div>
    </div>
    <div class="col-md-3 mb-3">
      <div class="glass-card h-100 text-center p-4">
        <div class="mb-3">
          <i class="bi bi-bell-fill" style="font-size: 2rem; color: var(--secondary);"></i>
        </div>
        <h5 class="fw-bold">Automated Updates</h5>
        <p class="text-muted">Keep customers informed with real-time WhatsApp notifications about order status and delivery updates.</p>
      </div>
    </div>
    <div class="col-md-3 mb-3">
      <div class="glass-card h-100 text-center p-4">
        <div class="mb-3">
          <i class="bi bi-bar-chart-fill" style="font-size: 2rem; color: var(--accent);"></i>
        </div>
        <h5 class="fw-bold">Business Analytics</h5>
        <p class="text-muted">Analyze your delivery performance with comprehensive analytics and reporting tools.</p>
        <a href="/dashboard" class="btn btn-outline-primary btn-sm mt-2">Analytics</a>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

<script>
// Theme toggle logic
(function() {
  const root = document.documentElement;
  const body = document.body;
  const themeToggle = document.getElementById('themeToggle');
  const themeIcon = document.getElementById('themeIcon');
  const THEME_KEY = 'wa_theme';

  function setTheme(theme) {
    if (theme === 'dark') {
      body.classList.add('theme-dark');
      body.classList.remove('theme-light');
      themeIcon.classList.remove('bi-sun');
      themeIcon.classList.add('bi-moon');
    } else {
      body.classList.add('theme-light');
      body.classList.remove('theme-dark');
      themeIcon.classList.remove('bi-moon');
      themeIcon.classList.add('bi-sun');
    }
    localStorage.setItem(THEME_KEY, theme);
  }

  function getPreferredTheme() {
    const saved = localStorage.getItem(THEME_KEY);
    if (saved) return saved;
    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
  }

  themeToggle.addEventListener('click', function() {
    const current = body.classList.contains('theme-dark') ? 'dark' : 'light';
    setTheme(current === 'dark' ? 'light' : 'dark');
  });

  setTheme(getPreferredTheme());
})();

// Animation on load
window.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.fade-in').forEach((el, i) => {
    el.style.animationDelay = (0.1 + i * 0.1) + 's';
    el.classList.add('animated');
  });
});
</script> 